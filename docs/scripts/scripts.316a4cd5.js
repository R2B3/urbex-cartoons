"use strict";angular.module("urbexCartoonsApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/:locationShortName",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).otherwise({redirectTo:"/"})}]),angular.module("urbexCartoonsApp").factory("locationService",function(){var a=[{name:"Hof van Neuteboom",shortName:"neuteboom",category:"Wohnen",country:"Benelux / Frankreich",preview:"https://r2b3.github.io/urbex-cartoons/images/neuteboom_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/neuteboom.jpg",color:"#50b2fb",date:201109},{name:"Kraftwerk ECVB",shortName:"ecvb",category:"Industrie",country:"Benelux / Frankreich",preview:"https://r2b3.github.io/urbex-cartoons/images/ecvb.png",image:"https://r2b3.github.io/urbex-cartoons/images/locations/ecvb.jpg",color:"#686568",date:201109},{name:"Kraftwerk Vockerode",shortName:"vockerode",category:"Industrie",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/vockerode_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/vockerode.jpg",color:"#fe6527",date:201203},{name:"Sportschule Ballenstedt",shortName:"sportschule",category:"Bildung / Freizeit",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/ballenstedt.png",image:"https://r2b3.github.io/urbex-cartoons/images/locations/ballenstedt.jpg",color:"#4d5c52",date:201203},{name:"Villa Albert",shortName:"villa_albert",category:"Wohnen",country:"Benelux / Frankreich",preview:"https://r2b3.github.io/urbex-cartoons/images/villa_albert.png",image:"https://r2b3.github.io/urbex-cartoons/images/locations/villa_albert.jpg",color:"#00ccfa",date:201209},{name:"Alte Rheinbrücke",shortName:"alte_rheinbruecke",category:"Industrie",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/alte_rheinbruecke.png",image:"https://r2b3.github.io/urbex-cartoons/images/locations/alte_rheinbruecke.jpg",color:"#2770b8",date:201103},{name:"Bergklinik",shortName:"bergklinik",category:"Medizin",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/bergklinik.png",image:"https://r2b3.github.io/urbex-cartoons/images/locations/bergklinik.jpg",color:"#511704",date:201009},{name:"Baumwollbleicherei",shortName:"baumwolle",category:"Industrie",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/baumwollbleicherei_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/baumwollbleicherei.jpg",color:"#56a39d",date:201309},{name:"Central Thermique",shortName:"central_thermique",category:"Industrie",country:"Benelux / Frankreich",preview:"https://r2b3.github.io/urbex-cartoons/images/central_thermique.png",image:"https://r2b3.github.io/urbex-cartoons/images/locations/central_thermique.jpg",color:"#cd6534",date:201002},{name:"Chapel",shortName:"chapel",category:"Bildung / Freizeit",country:"Polen / Ukraine",preview:"https://r2b3.github.io/urbex-cartoons/images/chapel.png",image:"https://r2b3.github.io/urbex-cartoons/images/locations/chapel.jpg",color:"#606f5b",date:201307},{name:"Chateau Electrique",shortName:"chateau_electrique",category:"Wohnen",country:"Benelux / Frankreich",preview:"https://r2b3.github.io/urbex-cartoons/images/chateau_electrique.png",image:"https://r2b3.github.io/urbex-cartoons/images/locations/chateau_electrique.jpg",color:"#a97d91",date:201105},{name:"Chateau HB",shortName:"chateau_hb",category:"Wohnen",country:"Benelux / Frankreich",preview:"https://r2b3.github.io/urbex-cartoons/images/chateau_hb.png",image:"https://r2b3.github.io/urbex-cartoons/images/locations/chateau_hb.jpg",color:"#6e9c89",date:201105},{name:"Fahrradmanufaktur",shortName:"fahrradmanufaktur",category:"Industrie",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/fahrradmanufaktur.png",image:"https://r2b3.github.io/urbex-cartoons/images/locations/fahrradmanufaktur.jpg",color:"#880c00",date:200912},{name:"Gießerei SH",shortName:"giesserei_sh",category:"Industrie",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/giesserei_sh.png",image:"https://r2b3.github.io/urbex-cartoons/images/locations/giesserei_sh.jpg",color:"#414248",date:201212},{name:"Hasard Cheratte",shortName:"hasard_cheratte",category:"Industrie",country:"Benelux / Frankreich",preview:"https://r2b3.github.io/urbex-cartoons/images/hasard_cheratte.png",image:"https://r2b3.github.io/urbex-cartoons/images/locations/hasard_cheratte.jpg",color:"#2d421e",date:200909},{name:"Hochofen",shortName:"hochofen",category:"Industrie",country:"Benelux / Frankreich",preview:"https://r2b3.github.io/urbex-cartoons/images/hochofen.png",image:"https://r2b3.github.io/urbex-cartoons/images/locations/hochofen.jpg",color:"#3f535e",date:201410},{name:"Kent School",shortName:"kent_school",category:"Bildung / Freizeit",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/kent_school_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/kent_school.jpg",color:"#757c53",date:201006},{name:"Kohlenwäsche",shortName:"kohlenwaesche",category:"Industrie",country:"Belgien",preview:"https://r2b3.github.io/urbex-cartoons/images/kohlenwaesche_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/kohlenwaesche.jpg",color:"#b34d42",date:201009},{name:"Krematorium D",shortName:"krematorium_d",category:"Medizin",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/krematorium_d_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/krematorium_d.jpg",color:"#000000",date:201203},{name:"Landschaftspark",shortName:"landschaftspark",category:"Industrie",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/landschaftspark_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/landschaftspark.jpg",color:"#00475a",date:201105},{name:"Schlösser in Meckpomm",shortName:"schloesser_meckpomm",category:"Wohnen",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/schloesser_meckpomm_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/schloesser_meckpomm.jpg",color:"#8fa33b",date:201108},{name:"Monestary",shortName:"monestary",category:"Bildung / Freizeit",country:"Benelux / Frankreich",preview:"https://r2b3.github.io/urbex-cartoons/images/monestary_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/monestary.jpg",color:"#adb45c",date:201007},{name:"Mühle des Schreckens",shortName:"muehle_d_sch",category:"Industrie",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/muehle_d_sch_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/muehle_d_sch.jpg",color:"#6bafc3",date:201304},{name:"Nebelhotel",shortName:"nebelhotel",category:"Wohnen",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/nebelhotel_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/nebelhotel.jpg",color:"#523e34",date:201211},{name:"Papierfabrik W",shortName:"papierfabrik_w",category:"Industrie",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/papierfabrik_w_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/papierfabrik_w.jpg",color:"#529753",date:201211},{name:"Presswerk am Fluss",shortName:"presswerk",category:"Industrie",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/presswerk_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/presswerk.jpg",color:"#153549",date:200912},{name:"Relais de Ballons",shortName:"relais_des_ballons",category:"Bildung / Freizeit",country:"Benelux / Frankreich",preview:"https://r2b3.github.io/urbex-cartoons/images/relais_des_ballons_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/relais_des_ballons.jpg",color:"#372630",date:2001304},{name:"Sinteranlage",shortName:"sinteranlage",category:"Industrie",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/sinteranlage_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/sinteranlage.jpg",color:"#8b4a24",date:200910},{name:"Spreepark",shortName:"spreepark",category:"Bildung / Freizeit",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/spreepark_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/spreepark.jpg",color:"#773340",date:201010},{name:"Stadtbad",shortName:"stadtbad",category:"Bildung / Freizeit",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/stadtbad_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/stadtbad.jpg",color:"#c5af5c",date:0},{name:"Werkzeugmaschinenfabrik",shortName:"werkzeugmaschinenfabrik",category:"Industrie",country:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/werkzeugmaschinenfabrik_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/werkzeugmaschinenfabrik.jpg",color:"#606d49",date:201207},{name:"Terre Rouge",shortName:"terrerouge",category:"Industrie",country:"Benelux / Frankreich",preview:"https://r2b3.github.io/urbex-cartoons/images/terre_rouge_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/terre_rouge.jpg",color:"#c38127",date:201002},{name:"Tschernobyl",shortName:"tschernobyl",category:"Wohnen",country:"Polen / Ukraine",preview:"https://r2b3.github.io/urbex-cartoons/images/tschernobyl_200.jpg",image:"https://r2b3.github.io/urbex-cartoons/images/locations/tschernobyl.jpg",color:"#a88d24",date:201002}];return{locations:function(){return a}}}),angular.module("urbexCartoonsApp").factory("categoryService",function(){var a=[{name:"Industrie",preview:"https://r2b3.github.io/urbex-cartoons/images/industrie.png",previewGray:"https://r2b3.github.io/urbex-cartoons/images/industrie_gray.png"},{name:"Wohnen",preview:"https://r2b3.github.io/urbex-cartoons/images/wohnen.png",previewGray:"https://r2b3.github.io/urbex-cartoons/images/wohnen_gray.png"},{name:"Bildung / Freizeit",preview:"https://r2b3.github.io/urbex-cartoons/images/bildung.png",previewGray:"https://r2b3.github.io/urbex-cartoons/images/bildung_gray.png"},{name:"Medizin",preview:"https://r2b3.github.io/urbex-cartoons/images/medizin.png",previewGray:"https://r2b3.github.io/urbex-cartoons/images/medizin_gray.png"}];return{categories:function(){return a}}}),angular.module("urbexCartoonsApp").factory("countryService",function(){var a=[{name:"Deutschland",preview:"https://r2b3.github.io/urbex-cartoons/images/de.png",previewGray:"https://r2b3.github.io/urbex-cartoons/images/de_gray.png"},{name:"Benelux / Frankreich",preview:"https://r2b3.github.io/urbex-cartoons/images/fra_bel_nld_lux.png",previewGray:"https://r2b3.github.io/urbex-cartoons/images/fra_bel_nld_lux_gray.png"},{name:"Polen / Ukraine",preview:"https://r2b3.github.io/urbex-cartoons/images/pol_ukr.png",previewGray:"https://r2b3.github.io/urbex-cartoons/images/pol_ukr_gray.png"}];return{countries:function(){return a}}}),angular.module("urbexCartoonsApp").controller("MainCtrl",["$scope","$filter","$http","$routeParams","$location","locationService","categoryService","countryService",function(a,b,c,d,e,f,g,h){if(a.categories=g.categories(),a.countries=h.countries(),a.locations=b("orderBy")(f.locations(),"date",!0),a.filteredLocations=a.locations,a.selectedCategory={name:""},d.locationShortName){var i=b("filter")(a.locations,{shortName:d.locationShortName})[0];i&&(a.selectedLocation=i)}else a.selectedLocation=a.filteredLocations[0];a.resetSelection=function(){a.selectedCategory=null,a.selectedCountry=null,a.filteredLocations=a.locations,a.selectedLocation=a.filteredLocations[0]},a.setSelectedCategory=function(c){"string"==typeof c&&(c=b("filter")(a.categories,{name:c})[0]),c&&(c===a.selectedCategory&&(console.log("reset category"),c={name:""}),a.filterLocations(c,a.selectedCountry,1))},a.setSelectedCountry=function(c){console.log(c),"string"==typeof c&&(c=b("filter")(a.countries,{name:c})[0]),c&&(c===a.selectedCountry&&(console.log("reset country"),c={name:""}),a.filterLocations(a.selectedCategory,c,2))},a.filterLocations=function(c,d,e){var f;if(c&&d&&(console.log("filter for category and country"),f=b("filter")(a.locations,{category:c.name,country:d.name})),f&&0!==f.length)a.selectedCategory=c,a.selectedCountry=d;else{switch(console.log("no filtered locations"),e){case 1:console.log("filter for category "+c.name),a.selectedCategory=c,a.selectedCountry=null,f=b("filter")(a.locations,{category:c.name});break;case 2:console.log("filter for country "+d.name),a.selectedCategory=null,a.selectedCountry=d,f=b("filter")(a.locations,{country:d.name})}0===f.length&&(console.log("Filter returned no result. Reset country and category"),a.selectedCountry=null,a.selectedCategory=null,f=a.locations)}console.log(f),a.filteredLocations=f,a.filteredLocations.indexOf(a.selectedLocation)<0&&(console.log("current location does not fit new filter. reset"),a.setSelectedLocation(null))},a.setSelectedLocation=function(b){b?a.selectedLocation=b:a.selectedLocation=a.filteredLocations[0]},a.nextLocation=function(b){if(b){var c=a.filteredLocations.indexOf(a.selectedLocation);console.log(c);var d;d=c+b>a.filteredLocations.length-1?0:0>c+b?a.filteredLocations.length-1:c+b,a.selectedLocation=a.filteredLocations[d]}},a.mouseOverLocation=null,a.setMouseOverLocation=function(b){a.mouseOverLocation=b},a.mouseOverCategory=null,a.setMouseOverCategory=function(b){a.mouseOverCategory=b},a.mouseOverCountry=null,a.setMouseOverCountry=function(b){a.mouseOverCountry=b},a.showImpressum=!1,a.toggleShowImpressum=function(){a.showImpressum=!a.showImpressum}}]),angular.module("urbexCartoonsApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("urbexCartoonsApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div class="row"> <div class="col-xs-12 col-sm-1" style="padding: 0"> <img src="https://r2b3.github.io/urbex-cartoons/images/home.jpg" style="max-width: 75px; width: 50%; margin: 5px" ng-click="resetSelection()"> </div> <div class="col-xs-12 col-sm-6"> <div class="row" style="margin-bottom: 5px"> <div class="col-xs-12 col-sm-12 col-lg-6"> <div class="col-xs-3" ng-repeat="category in categories" ng-click="setSelectedCategory(category)" ng-mouseover="setMouseOverCategory(category)" ng-mouseleave="setMouseOverCategory(null)"> <img ng-src="{{category == selectedCategory && category.preview || category.previewGray}}" style="width: 100%"> <p class="text-center" style="height: 20px; margin: -10px -100px 5px -100px"> <span ng-show="category == mouseOverCategory || selectedLocation.category == category.name" class="label label-default" style="background-color: #3e8fdb">{{category.name}}</span> </p> </div> </div> <div class="col-xs-12 col-sm-12 col-lg-6" style=""> <div class="col-xs-3" ng-repeat="country in countries" ng-click="setSelectedCountry(country)" ng-mouseover="setMouseOverCountry(country)" ng-mouseleave="setMouseOverCountry(null)"> <img ng-src="{{country == selectedCountry && country.preview|| country.previewGray}}" style="width: 100%"> <!-- ng-class="{ grayscale: country != selectedCountry}" --> <p class="text-center" style="height: 20px; margin: -10px -100px 5px -100px"> <span ng-show="country == mouseOverCountry || selectedLocation.country == country.name" class="label label-default" style="background-color: #f64737">{{country.name}}</span> </p> </div> </div> </div> <div class="row"> <div class="col-xs-3 col-sm-3 cold-md-3 col-lg-2" ng-repeat="location in filteredLocations" ng-click="setSelectedLocation(location)" ng-mouseover="setMouseOverLocation(location)" ng-mouseleave="setMouseOverLocation(null)"> <img ng-src="{{location.preview}}" style="width: 100%" ng-class="{ grayscale: location != selectedLocation}" alt="location.name "> <p class="text-center" style="height: 20px; margin: -10px  -100px 5px -100px"> <span ng-show="location == mouseOverLocation || location == selectedLocation" class="label label-default" ng-style="{\'background-color\': location.color}">{{location.name}}</span> </p> </div> </div> </div> <div class="col-xs-12 col-sm-5"> <div class="row" style="margin-top: 20px"> <div class="col-x-12"> <div style="height: 90vh" width="100%"> <img ng-src="{{selectedLocation.image}}" ng-click="nextLocation(1)" ng-swipe-left="nextLocation(1)" ng-swipe-right="nextLocation(-1)" class="img-responsive center-block" style="max-width: 100%; max-height: 100%"> </div> </div> </div> </div> </div> <div style="margin: 10px 0 10px 0"> <button type="button" class="btn btn-xs btn-default" ng-click="toggleShowImpressum()" ng-show="!showImpressum">Impressum</button> <small ng-show="showImpressum" ng-click="toggleShowImpressum()">Robin Bougardier | robbo[at]tuta.io</small> </div>')}]);
